<p-toast position="top-right"></p-toast>

<form
  [formGroup]="Formulario"
  (ngSubmit)="onSubmit()"
  class="max-w-lg mx-auto bg-gray-100 shadow-lg rounded-xl p-8 mt-10 space-y-6" >
  <h2 class="text-2xl font-bold text-center text-gray-700 mb-6">
    {{ edicion ? 'Editar reserva' : 'Registrar reserva' }}
  </h2>

  <div class="space-y-2">
    <label for="id_user" class="text-gray-700 text-base font-medium">Usuario</label>
    <p-dropdown
      [options]="usuarios"
      optionLabel="name"
      optionValue="id"
      formControlName="id_user"
      placeholder="Selecciona un usuario"
      class="w-full"
    ></p-dropdown>
  </div>

  <div class="space-y-2">
    <label for="id_espacio" class="text-gray-700 text-base font-medium">Espacio</label>
    <p-dropdown
      [options]="espacios"
      optionLabel="nombre"
      optionValue="id"
      formControlName="id_espacio"
      placeholder="Selecciona un espacio"
      class="w-full"
    ></p-dropdown>
  </div>

  <label for="fecha" class="text-gray-700 text-base font-medium">Fecha</label>
  <div class="space-y-2">
    <p-calendar
      formControlName="fecha"
      dateFormat="yy-mm-dd"
      showIcon
      inputClass="w-full p-3 border border-gray-300 rounded-lg"
    ></p-calendar>
  </div>

  <label for="hora_inicio" class="text-gray-700 text-base font-medium">Hora de inicio</label>
  <div class="space-y-2">
    <p-calendar
      formControlName="hora_inicio"
      [showIcon]="true"
      [timeOnly]="true"
      iconDisplay="input"
      class="w-full"
      inputId="hora_inicio"
    >
      <ng-template #inputicon let-clickCallBack="clickCallBack">
        <i class="pi pi-clock text-blue-600 cursor-pointer" (click)="clickCallBack($event)"></i>
      </ng-template>
    </p-calendar>
  </div>

  <label for="hora_fin" class="text-gray-700 text-base font-medium">Hora de fin</label>
  <div class="space-y-2">
    <p-calendar
      formControlName="hora_fin"
      [showIcon]="true"
      [timeOnly]="true"
      iconDisplay="input"
      class="w-full"
      inputId="hora_fin"
    >
      <ng-template #inputicon let-clickCallBack="clickCallBack">
        <i class="pi pi-clock text-blue-600 cursor-pointer" (click)="clickCallBack($event)"></i>
      </ng-template>
    </p-calendar>
  </div>

  <div class="space-y-2">
    <label for="estado" class="text-gray-700 text-base font-medium">Estado</label>
    <p-dropdown
      [options]="estados"
      optionLabel="label"
      optionValue="value"
      formControlName="estado"
      placeholder="Selecciona estado"
      class="w-full"
    ></p-dropdown>
  </div>

  <div class="space-y-2">
    <label for="precio" class="text-gray-700 text-base font-medium">Precio</label>
    <p-floatLabel>
      <input
        pInputText
        type="number"
        id="precio"
        formControlName="precio"
        class="w-full p-3 border text-black  border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
      />
    </p-floatLabel>
  </div>

  <div class="pt-4">
    <button
      type="submit"
      *ngIf="edicion"
      class="w-full text-white bg-yellow-500 hover:bg-yellow-600 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
    >
      Guardar cambios
    </button>

    <button
      type="submit"
      *ngIf="!edicion"
      class="w-full text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 shadow-lg font-medium rounded-lg text-sm px-5 py-2.5 text-center"
    >
      Registrar reserva
    </button>
  </div>
</form>
